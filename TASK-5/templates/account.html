{% extends 'base.html' %}

{% block header %}
<div class="profile-container">
    <div class="profile-pic">
        {{ users[session.name]['profile_pic'] | safe }}
    </div>
    <h3>Welcome, {{ session.name }}!</h3>
</div>
<div class="header-actions">
    <label class="theme-toggle">
        <input type="checkbox" id="theme-toggle">
        <span class="toggle-slider"></span>
    </label>
    <a href="{{ url_for('lounge') }}" class="btn btn-secondary">Lounge</a>
    <a href="{{ url_for('logout') }}" class="btn btn-danger">Logout</a>
</div>
{% endblock %}

{% block content %}
<div class="dark-bg-form account-container">
    <h2>Account Settings</h2>

    <h4>Your Current Profile Picture:</h4>
    <div class="current-pic">
        {{ users[session.name]['profile_pic'] | safe }}
    </div>

    <h4>Choose a new Picture:</h4>
    <form method="post">
        <div class="pic-grid">
            {% for pic in profile_pics %}
            <label class="pic-option">
                <input type="radio" name="profile_pic" value="{{ loop.index0 }}" onchange="this.form.submit()">
                {{ pic | safe }}
            </label>
            {% endfor %}
        </div>
    </form>
    <div class="bottom-link">
        <p><a href="{{ url_for('lounge') }}" class="btn btn-secondary">Back to Lounge</a></p>
    </div>
</div>
{% endblock %}